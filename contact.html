<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"/>
  <title>Контакты — Tesla-like AutoSale</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="nav-bar">
  <h2 onclick="location.href='index.html'">AutoSale</h2>
  <div class="nav-links">
    <a href="catalog.html" id="catalogLink">Каталог</a>
    <a href="contact.html" id="contactLink">Контакты</a>
    <a href="login.html"   id="loginLink">Войти</a>
    <a href="register.html"id="registerLink">Регистрация</a>
    <button id="logoutBtn" class="hidden">Выход</button>
    <button class="theme-toggle" onclick="toggleTheme()">Тема</button>
  </div>
</div>

<div style="padding-top:70px; max-width:1200px; margin:0 auto; display:flex; flex-wrap:wrap; gap:2rem; padding:1rem;">
  <!-- Карта -->
  <div style="flex:1 1 400px; min-height:300px; border-radius:8px; overflow:hidden;">
    <iframe
      src="https://maps.google.com/maps?q=moscow&z=13&output=embed"
      width="100%" height="100%" style="border:0;" allowfullscreen=""></iframe>
  </div>

  <!-- 3-шаговая форма -->
  <div class="form-container" style="flex:1 1 400px;">
    <h1>Связаться с нами</h1>
    <form id="contactForm" onsubmit="event.preventDefault(); finishContactForm();">
      <div class="step" id="step1">
        <label for="contactName">Ваше имя</label>
        <input type="text" id="contactName" required placeholder="Иван Иванов"/>

        <label for="contactEmail">Email</label>
        <input type="email" id="contactEmail" required placeholder="example@mail.com"/>
      </div>

      <div class="step" id="step2" style="display:none;">
        <label for="contactPhone">Телефон</label>
        <input type="tel" id="contactPhone" placeholder="+7 (999) 999-99-99"/>

        <label for="contactCity">Город</label>
        <input type="text" id="contactCity" placeholder="Москва"/>
      </div>

      <div class="step" id="step3" style="display:none;">
        <label for="contactMessage">Сообщение</label>
        <textarea id="contactMessage" rows="4" placeholder="Ваш вопрос..."></textarea>
      </div>

      <div class="form-nav">
        <button class="btn" type="button" id="prevBtn" onclick="changeStep(-1)">Назад</button>
        <button class="btn" type="button" id="nextBtn" onclick="changeStep(1)">Далее</button>
      </div>
    </form>
  </div>
</div>

<footer>
  <p>© 2025 Авто-Сервис | Все права защищены</p>
</footer>

<script src="app.js"></script>
<script>
  let currentStep=1, totalSteps=3;
  window.addEventListener('load',()=>{ initApp(); showStep(currentStep); });

  function showStep(step){
    for(let i=1;i<=totalSteps;i++){
      const s=document.getElementById('step'+i);
      if(s) s.style.display='none';
    }
    const stepDiv=document.getElementById('step'+ step);
    if(stepDiv) stepDiv.style.display='block';

    const prevBtn=document.getElementById('prevBtn');
    const nextBtn=document.getElementById('nextBtn');
    prevBtn.style.display=(step===1)?'none':'inline-block';
    nextBtn.textContent=(step===totalSteps)?'Отправить':'Далее';
  }

  function changeStep(n){
    if(n===1 && currentStep===totalSteps){
      finishContactForm();
      return;
    }
    currentStep+=n;
    if(currentStep<1) currentStep=1;
    if(currentStep>totalSteps) currentStep=totalSteps;
    showStep(currentStep);
  }

  function finishContactForm(){
    alert("Сообщение отправлено! Скоро свяжемся.");
    location.href="index.html";
  }
</script>
</body>
</html>
